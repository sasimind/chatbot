{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "Smart-MSU-Chatbot",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -496,
        16
      ],
      "id": "d560cbaa-b73c-4089-a813-e157ca6aa752",
      "name": "Webhook Trigger",
      "webhookId": "44382b05-4d5f-468a-adb1-e5e05d4955c0"
    },
    {
      "parameters": {
        "jsCode": "/**\n * Normalize Text1 (LINE + Student FAQ + Menu 1-3)\n * - ‡∏î‡∏∂‡∏á replyToken, userId, ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°\n * - normalize + lower\n * - ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á /help\n * - map ‡πÄ‡∏•‡∏Ç 1-3 ‡∏´‡∏£‡∏∑‡∏≠ map ‡∏Ñ‡∏≥ -> menu_choice 1-3\n */\n\nconst src = $json || {};\nconst body = src.body || src;\n\nconst destination = body.destination || \"\";\nconst events = Array.isArray(body.events) ? body.events : [];\nconst ev0 = events[0] || {};\n\nconst replyToken = ev0.replyToken || \"\";\nconst eventType = ev0.type || \"\";\nconst messageType = ev0.message?.type || \"\";\n\nconst userId =\n  ev0.source?.userId ||\n  ev0.source?.groupId ||\n  ev0.source?.roomId ||\n  \"\";\n\n// -------- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ --------\nlet user_text_raw = \"\";\nif (eventType === \"message\" && messageType === \"text\") {\n  user_text_raw = (ev0.message?.text ?? \"\").toString();\n}\n\n// -------- normalize ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° --------\nconst normalize = (t) =>\n  (t || \"\")\n    .replace(/\\u200B/g, \"\")          // zero-width space\n    .replace(/[‚Äú‚Äù]/g, '\"')\n    .replace(/[‚Äò‚Äô]/g, \"'\")\n    .replace(/\\s+/g, \" \")\n    .trim();\n\nconst user_text = normalize(user_text_raw);\nconst user_text_lower = user_text.toLowerCase();\n\n// -------- ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á --------\nconst is_command = user_text_lower.startsWith(\"/\");\nconst command =\n  is_command ? user_text_lower.split(/\\s+/)[0].trim() : \"\";\n\n// -------- ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 1-3 --------\nconst is_number = /^[1-3]$/.test(user_text);\nlet menu_choice = is_number ? user_text : \"\";\n\n// -------- map ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° -> menu_choice (1-3) --------\nif (!menu_choice) {\n  const t = user_text_lower;\n\n  // ‡πÄ‡∏°‡∏ô‡∏π 1: ‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï\n  if (\n    t.includes(\"‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û\") ||\n    t.includes(\"‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï\") ||\n    t.includes(\"‡∏£‡∏µ‡πÑ‡∏ó‡∏ô‡πå\") ||\n    t.includes(\"retire\") ||\n    t.includes(\"‡∏´‡∏°‡∏î‡∏™‡∏†‡∏≤‡∏û\")\n  ) {\n    menu_choice = \"1\";\n  }\n\n  // ‡πÄ‡∏°‡∏ô‡∏π 2: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô / Gen Ed\n  else if (\n    t.includes(\"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô\") ||\n    t.includes(\"‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô\") ||\n    t.includes(\"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ñ‡∏≠‡∏ô\") ||\n    t.includes(\"add/drop\") ||\n    t.includes(\"gen ed\") ||\n    t.includes(\"gened\") ||\n    t.includes(\"‡πÄ‡∏à‡∏ô‡πÄ‡∏≠‡∏î\") ||\n    t.includes(\"‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏™‡∏£‡∏µ\") ||\n    t.includes(\"‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï\") ||\n    t.includes(\"‡∏•‡∏á‡πÄ‡∏Å‡∏¥‡∏ô\")\n  ) {\n    menu_choice = \"2\";\n  }\n\n  // ‡πÄ‡∏°‡∏ô‡∏π 3: ‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤\n  else if (\n    t.includes(\"‡∏Å‡∏¢‡∏®\") ||\n    t.includes(\"‡∏Å‡∏¢‡∏®.\") ||\n    t.includes(\"‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°\") ||\n    t.includes(\"‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°\") ||\n    t.includes(\"‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤\") ||\n    t.includes(\"‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤\") ||\n    t.includes(\"volunteer\")\n  ) {\n    menu_choice = \"3\";\n  }\n}\n\n// -------- output (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö replyToken / userId) --------\nreturn [\n  {\n    json: {\n      destination,\n      replyToken,\n      userId,\n      eventType,\n      messageType,\n\n      user_text_raw,\n      user_text,\n      user_text_lower,\n\n      is_command,\n      command,\n\n      is_number,\n      menu_choice,\n    },\n  },\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -272,
        16
      ],
      "id": "560af9a8-157f-4ef4-b4a2-44b705a91fb4",
      "name": "Normalize Text1"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.menu_choice }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "2547ade0-b6ef-4b75-8c68-e7c5d9f64296"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "04aebb85-5c5e-4a45-9083-21e60be85e96",
                    "leftValue": "={{ $json.menu_choice }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c100d708-35e8-4a0f-a0a4-ac6ff5973e96",
                    "leftValue": "={{ $json.menu_choice }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        256,
        -128
      ],
      "id": "2ddfcb99-1c60-44b9-82d0-cafc2ac7d437",
      "name": "Switch: Menu Choice"
    },
    {
      "parameters": {
        "jsCode": "const replyToken = $json.events[0].replyToken;\n\nconst messages = [\n  {\n    type: \"text\",\n    text:\n      \"üìò ‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï\\n\\n\" +\n      \"- ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î\\n\" +\n      \"- GPAX ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå\\n\" +\n      \"- ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö\\n\\n\" +\n      \"‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡∏™‡∏†‡∏≤‡∏û ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏∞ ü§ç\"\n  }\n];\n\nreturn [\n  {\n    json: {\n      replyToken: replyToken,\n      messages: messages\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        512,
        -400
      ],
      "id": "d23d7352-c49e-470b-b383-6400d618e941",
      "name": "Code-Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)"
    },
    {
      "parameters": {
        "jsCode": "const replyToken = $json.replyToken;\n\nconst message = {\n  type: \"text\",\n  text:\n    \"üìù ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed\\n\\n\" +\n    \"1) ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤\\n\" +\n    \"2) ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î\\n\" +\n    \"3) ‡∏´‡∏≤‡∏Å‡∏ï‡∏¥‡∏î‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï/‡∏ß‡∏¥‡∏ä‡∏≤‡∏ã‡πâ‡∏≥/‡∏ä‡∏ô‡πÄ‡∏ß‡∏•‡∏≤) ‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤\\n\" +\n    \"4) ‡∏ß‡∏¥‡∏ä‡∏≤ Gen Ed ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏°‡∏ß‡∏î‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£\\n\\n\" +\n    \"‡∏ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ì‡∏∞/‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡πÑ‡∏î‡πâ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏•‡πà‡πÄ‡∏ä‡πá‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠ ‡πÜ ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞ ü§ç\"\n};\n\nreturn [{\n  json: { replyToken, message }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        512,
        -224
      ],
      "id": "33a91c7f-23f2-439c-8ae2-f6bceb78ec90",
      "name": "Code-Message (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed))"
    },
    {
      "parameters": {
        "jsCode": "const replyToken = $json.replyToken;\n\nconst message = {\n  type: \"text\",\n  text:\n    \"üéì ‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤\\n\\n\" +\n    \"‚úÖ ‡∏Å‡∏¢‡∏®:\\n\" +\n    \"- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®/‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢\\n\" +\n    \"- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏∑‡πà‡∏ô\\n\" +\n    \"- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î\\n\\n\" +\n    \"‚úÖ ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤:\\n\" +\n    \"- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á\\n\" +\n    \"- ‡πÄ‡∏Å‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö\\n\\n\" +\n    \"‡∏ñ‡πâ‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ß‡πà‡∏≤ ‚Äú‡∏Å‡∏¢‡∏®‚Äù ‡∏´‡∏£‡∏∑‡∏≠ ‚Äú‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤‚Äù ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ü§ç\"\n};\n\nreturn [{\n  json: { replyToken, message }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        512,
        -32
      ],
      "id": "0431d0ba-eb57-46f5-8172-4d4bd39f2315",
      "name": "Code-Message (‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤)"
    },
    {
      "parameters": {
        "operation": "send",
        "to": "={{ $('Normalize Text1').item.json.messageType }}",
        "messages": {
          "values": [
            {
              "quoteToken": "={{ $('Normalize Text1').item.json.replyToken }}",
              "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∑‡∏≠ Smart Chatbot for MSU Student Advisory System   ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏™‡∏°‡∏≠‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞  "
            }
          ]
        }
      },
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        736,
        -400
      ],
      "id": "1ac7e58f-2802-4f31-a15a-d8fb31f58ba8",
      "name": "Send Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)",
      "credentials": {
        "lineMessagingApi": {
          "id": "Rdwu11SMR5rGIZQv",
          "name": "Line Messaging account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "send",
        "to": "={{ $('Normalize Text1').item.json.userId }}"
      },
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        736,
        -208
      ],
      "id": "5922cf90-9e81-49f9-b82d-2e2d8afe67fe",
      "name": "Send Message (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed)",
      "credentials": {
        "lineMessagingApi": {
          "id": "EmKnphtADBRWpShG",
          "name": "Line Messaging account"
        }
      }
    },
    {
      "parameters": {
        "operation": "send",
        "to": "={{ $('Normalize Text1').item.json.userId }}"
      },
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        736,
        -16
      ],
      "id": "9973bc5a-69e6-475a-9d24-491f618dccf1",
      "name": "Send Message (‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤)",
      "credentials": {
        "lineMessagingApi": {
          "id": "EmKnphtADBRWpShG",
          "name": "Line Messaging account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI",
          "mode": "list",
          "cachedResultName": "Smart chatbot mind",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit#gid=0"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        96,
        80
      ],
      "id": "cdc6bd93-1010-4a81-8a33-b455fe45f6c0",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "bjeP8LbO5z6bSAkX",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "8b96cb3c-a5e7-4074-b2fe-61293dfea2bc",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        304,
        256
      ],
      "id": "f794e264-e6b3-49bd-9ea5-13ac61fc6386",
      "name": "IF: Menu Already Shown?"
    },
    {
      "parameters": {
        "operation": "send",
        "to": "="
      },
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        752,
        368
      ],
      "id": "829aeeb7-6453-48fa-aa46-69731249a4ea",
      "name": "Send Initial Menu",
      "credentials": {
        "lineMessagingApi": {
          "id": "EmKnphtADBRWpShG",
          "name": "Line Messaging account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI",
          "mode": "list",
          "cachedResultName": "Smart chatbot mind",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "enabled",
              "displayName": "enabled",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "priority",
              "displayName": "priority",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "match_type",
              "displayName": "match_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "keyword",
              "displayName": "keyword",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "aliases",
              "displayName": "aliases",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "intent",
              "displayName": "intent",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "answer",
              "displayName": "answer",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "append_footer",
              "displayName": "append_footer",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        976,
        336
      ],
      "id": "cd579b4c-95a4-4bd1-afac-0d80898511f0",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "bjeP8LbO5z6bSAkX",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "/**\n * Build Initial Menu (Code node)\n * - ‡πÉ‡∏ä‡πâ ReplyToken (reply) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô\n * - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ 1Ô∏è‚É£2Ô∏è‚É£3Ô∏è‚É£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á LINE ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô üìÑ\n * - ‡∏™‡πà‡∏á message ‡πÄ‡∏õ‡πá‡∏ô object ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Help message (‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Å)\n */\n\nconst replyToken = $node[\"Normalize Text1\"].json.replyToken;\nconst userId = $node[\"Normalize Text1\"].json.userId;\n\nconst message = {\n  type: \"text\",\n  text:\n    \"‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ üíö\\n\" +\n    \"‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Smart Chatbot ‚Äì MSU Student Friend Advisor üë©‚Äçüéì‚ú®\\n\\n\" +\n    \"‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞ ü§ç\\n\\n\" +\n    \"1) ‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï\\n\" +\n    \"2) ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed\\n\" +\n    \"3) ‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤\"\n};\n\nreturn [{\n  json: {\n    replyToken,\n    userId,\n    message,\n\n    // ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏ä‡πâ Mark session ‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡πâ‡∏ß\n    menu_shown: true,\n    updated_at: new Date().toISOString(),\n  }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        560,
        320
      ],
      "id": "89b70c3b-2e8a-46b1-805a-bab258743b75",
      "name": "Build Initial Menu"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.userId }}",
        "options": {
          "systemMessage": "=‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Smart Chatbot ‚Äì MSU Student Friend Advisor\n‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏°‡∏≠\n\nGLOBAL CONSTRAINT:\n- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô\n- ‡∏°‡∏µ‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\n- ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏à\n- ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢ ‚Äú‡∏Ñ‡πà‡∏∞‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô\n- ‡∏ï‡∏≠‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 50 ‡∏Ñ‡∏≥\n- ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô 1 ‚Üí 2 ‚Üí 3\n- ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πâ‡∏≥\n- ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ô‡∏µ‡πâ:\n‚Äú‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏≠‡∏µ‡∏Å‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏∞? ‡∏ö‡∏≠‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πâ‡∏≤üòçüë©‚Äçüéì‚Äù\n\nFOCUS:\n- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‚Äú1‚Äù ‚Äú2‚Äù ‚Äú3‚Äù ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ\n\nINITIAL MENU (‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô):\n‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∑‡∏≠ Smart Chatbot for MSU Student Advisory System  \n‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏™‡∏°‡∏≠‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞  \n\nüíî1 ‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï  \nüìö2 ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed  \nüíµ3 ‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤  \n\n‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞  \n‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞  \n‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ü§ç\n\n‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏î\n\nSUPER RULE ‚Äî ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô:\n‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏•‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‚Äù ‚Äú‡∏•‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‚Äù ‚Äú‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‚Äù ‚Äú‡∏Ç‡∏≠‡∏•‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‚Äù ‚Äú‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡∏•‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‚Äù\n‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤:\n‚Äú‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ì‡∏ö‡∏î‡∏µ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î +3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï ‡∏Ñ‡πà‡∏∞‚Äù\n‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î\n\nEMOTION RULE:\n‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡∏ó‡πâ‡∏≠ ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏Å‡∏±‡∏á‡∏ß‡∏• ‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß ‡∏Å‡∏•‡∏±‡∏ß‡∏£‡∏µ‡πÑ‡∏ó‡∏ô‡πå ‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≤‡∏≠‡∏≠‡∏Å ‡πÄ‡∏®‡∏£‡πâ‡∏≤\n‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏ß‡πà‡∏≤:\n‚Äú‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏ô‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏°‡∏≠ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏≤‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏Ñ‡πà‡∏∞‚Äù\n‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ\n\nKNOWLEDGE BASE:\n\n‡∏Å‡∏≠‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô:\nSC3 ‡∏ä‡∏±‡πâ‡∏ô 1  \n‡πÇ‡∏ó‡∏£ 043-754-333 ‡∏Å‡∏î 0, 08-0323-7706  \n‡∏≠‡∏µ‡πÄ‡∏°‡∏• reg@msu.ac.th  \n‡πÄ‡∏ß‡∏•‡∏≤ 08.30‚Äì20.30 (‡∏à‚Äì‡∏®) / 08.30‚Äì16.00 (‡∏™‚Äì‡∏≠‡∏≤)\n\n‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï:\n‡∏û.‡∏®.2547 ‚Üí GPAX < 1.60 / 1.75 / 2.00  \n‡∏û.‡∏®.2557 ‚Üí GPAX < 1.50 / 1.75  \n‡∏•‡∏¥‡∏á‡∏Å‡πå: https://genedu.msu.ac.th/thai/img/faqs3.png\n\n‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏≠‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï:\nhttps://genedu.msu.ac.th/creditbank/m.pdf  \nhttp://geonline.msu.ac.th/mis/dif_university/kk.pdf  \nhttps://bit.ly/‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏≠‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï  \nhttps://www.youtube.com/watch?v=ebt5jgnxNwM\n\n‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô:\n‡πÄ‡∏ó‡∏≠‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ 9‚Äì22 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï  \n‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏á‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏Å‡∏•‡πâ‡∏à‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ 4 ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï  \n‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï  \nGen Ed ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 24 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï\n\n‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô:\n1 ‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô  \n2 ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤  \n3 ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô  \n4 ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô  \n5 ‡∏ï‡∏£‡∏ß‡∏à‡∏ú‡∏•  \n\n‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:\nhttps://reg.msu.ac.th/registrar/home.asp  \nhttps://bit.ly/‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏¢‡πà‡∏≠2568  \nhttps://bit.ly/‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ2568‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°  \nhttps://bit.ly/‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏¢‡πà‡∏≠2569  \nhttps://bit.ly/‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ2569‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°  \n\nRULE 1 ‚Äî ‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï:\n‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Ñ‡∏ì‡∏∞ ‡∏™‡∏≤‡∏Ç‡∏≤ ‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ ‡πÅ‡∏•‡∏∞GPAX   \n‡∏´‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏¢‡πâ‡∏≠‡∏ô  \n‡∏´‡∏≤‡∏Å‡∏Ñ‡∏£‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏• ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏ì‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≠‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ‡πÅ‡∏ô‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå ‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ\n\nRULE 2 ‚Äî ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed:\n‡∏´‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå ‚Äú2‚Äù\n‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï + ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô + ‡πÅ‡∏ô‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå\n‡∏´‡∏≤‡∏Å‡∏ñ‡∏≤‡∏°‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç\n‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô\n‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á:\nhttps://bit.ly/‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á  \nhttps://bit.ly/‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô\n\n‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ:\n‚Äú‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ô‡∏∞‡∏Ñ‡∏∞‚Äù\n\nRULE 3 ‚Äî ‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤:\n‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå ‚Äú3‚Äù ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤:\n‚Äú‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏¢‡∏®.‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞ ‡∏ö‡∏≠‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏´‡∏ô ‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞‚Äù\n‡∏•‡∏¥‡∏á‡∏Å‡πå: https://www.studentloan.or.th/th/highlight/1622797834\n\nOUT OF SCOPE:\n‡∏´‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡∏Ç‡∏≠‡∏∑‡πà‡∏ô‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å 1 2 3\n‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤:\n‚Äú‡∏Æ‡∏∑‡∏≠‡∏≠‡∏≠ ‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡πâ‡∏≤ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á 1 2 3 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏≠‡∏á ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏à‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞‚Äù‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏µ‡πàData Table\n {{ $json.message.text }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1248,
        -96
      ],
      "id": "d06f14e0-474a-4174-94fe-3a5532db5a89",
      "name": "AI Agent",
      "disabled": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1184,
        96
      ],
      "id": "2e447b78-86d0-463e-8cc4-d1ea78e890cb",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "sYBOvosjqVxnK36C",
          "name": "n8n free OpenAI API credits"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI",
          "mode": "list",
          "cachedResultName": "Smart chatbot mind",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1sqaSIJ-j1FZ0N_xKgD5DAWQbMZ82WI-t3Su6_2GuZWI/edit#gid=0"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1424,
        144
      ],
      "id": "148e9a12-b13c-4bc7-9315-7b22f6a15f1b",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "bjeP8LbO5z6bSAkX",
          "name": "Google Sheets account 2"
        }
      },
      "disabled": true
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Normalize Text1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Normalize Text1": {
      "main": [
        [
          {
            "node": "Switch: Menu Choice",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch: Menu Choice": {
      "main": [
        [
          {
            "node": "Code-Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code-Message (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed))",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code-Message (‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code-Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)": {
      "main": [
        [
          {
            "node": "Send Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code-Message (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed))": {
      "main": [
        [
          {
            "node": "Send Message (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / Gen Ed)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code-Message (‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤)": {
      "main": [
        [
          {
            "node": "Send Message (‡∏Å‡∏¢‡∏® / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Message (‡∏û‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏™‡∏¥‡∏ï)": {
      "main": [
        []
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "IF: Menu Already Shown?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF: Menu Already Shown?": {
      "main": [
        [],
        [
          {
            "node": "Build Initial Menu",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Initial Menu": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Initial Menu": {
      "main": [
        [
          {
            "node": "Send Initial Menu",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e3eb6466-2328-47b8-9ba6-d019775d1cd7",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "875134003e4661a47c4ec47647009d760b4e86177356e34a63d9432c52b8ef78"
  },
  "id": "U2hLuPXPgCuSK0b9",
  "tags": []
}